                                    Roundup
                                    =======

Installation
===============
These instructions work on redhat 6.2 and mandrake 8.0 - with the caveat
that these systems don't come with python 2.0 or newer installed, so you'll
have to upgrade python before this stuff will work.


Prerequisites
-------------
Either:
 . Python 2.0 with pydoc installed. See http://www.lfw.org/ for pydoc.
or
 . Python 2.1

You will need either the anydbm or bsddb module.


Testing the Software
--------------------

Run "python -c 'import tests;tests.go()'" and make sure there's no errors.
If there are errors, please let us know!


Installing the Software
-----------------------

1. Run:

      python setup.py install

2. If you want the scripts installed, also run the following command. If
   you would prefer the scripts installed in somewhere other than
   /usr/local/bin, add "--install-dir=<dir>" to the command.

      python setup.py install_scripts



Initial Setup
=============

Instance
--------
Run "./roundup-admin init". This initialises a roundup instance.

Roundup is configurable using a localconfig.py file in the instance home.
It may have the following variable declarations:
  
  MAILHOST - The SMTP mail host that roundup will use to send mail
  MAIL_DOMAIN - The domain name used for email addresses

Any further configuration should be possible by editing the instance home's
__init__.py directly.

The email addresses used by the system by default are:

  issue_tracker@MAIL_DOMAIN  - submissions of issues
  roundup-admin@MAIL_DOMAIN  - roundup's internal use (problems, etc)


Mail
----
Set up a mail alias called "issue_tracker" as:
  "|/usr/bin/python /home/httpd/html/roundup/roundup-mailgw <instance_home>"

In some installations (e.g. RedHat 6.2 I think) you'll need to set up smrsh
so sendmail will accept the pipe command. In that case, symlink
/etc/smrsh/python to /usr/bin/python and change the command to:
  "|python /home/httpd/html/roundup/roundup-mailgw <instance_home>"


Web Interface
-------------
This software will work through apache or stand-alone.

Stand-alone:
 1. Edit roundup-server at the top - ROUNDUP_INSTANCE_HOMES needs to know
    about your instance.
 2. "./roundup-server [hostname port]"   (hostname may be "")
 3. Load up the page "/" using the port number you set.

Apache:
 1. Make sure roundup.cgi is executable. Edit it at the top -
    ROUNDUP_INSTANCE_HOMES needs to know about your instance.
 2. Edit your /etc/httpd/conf/httpd.conf and make sure that the
    /home/httpd/html/roundup/roundup.cgi script will be treated as a CGI
    script.
 3. Add the following to your /etc/httpd/conf/httpd.conf:
------8<------- snip here ------8<-------
RewriteEngine on
RewriteCond %{HTTP:Authorization} ^(.*)
RewriteRule ^/roundup/roundup.cgi(.*) /home/httpd/html/roundup/roundup.cgi$1 [e=HTTP_CGI_AUTHORIZATION:%1,t=application/x-httpd-cgi,l]
------8<------- snip here ------8<-------
   note: the RewriteRule must be on one line - no breaks
 4. Re-start your apache to re-load the config
 5. Load up the page "/roundup/roundup.cgi/"


